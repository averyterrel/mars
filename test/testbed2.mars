module test;

type char = u8;
type string = []u8;

let find = fn(needle: char, haystack: string) -> (index: uint, found: bool) {
    for i: u64 in 0..<haystack.len {
        if haystack[i] == needle {
            return i, true;
        }
    }
    return -1, false;
};

let main = fn() {

    let s = "apple";
    let c = 'l';

    let index, found = find(c, s);
    if !found || s[index] != c {
        // not found
    }

};